<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill-opacity="1" color-rendering="auto" color-interpolation="auto" stroke="black" text-rendering="auto" stroke-linecap="square" width="994" stroke-miterlimit="10" stroke-opacity="1" shape-rendering="auto" fill="black" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="1005" font-family="'Dialog'" font-style="normal" stroke-linejoin="miter" font-size="12" stroke-dashoffset="0" image-rendering="auto">
  <!--Generated by ySVG 2.5-->
  <defs id="genericDefs"/>
  <g>
    <defs id="defs1">
      <linearGradient x1="91" gradientUnits="userSpaceOnUse" x2="100" y1="228" y2="1126.9166" id="linearGradient1" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="276.75" gradientUnits="userSpaceOnUse" x2="285.75" y1="231" y2="1121.9166" id="linearGradient2" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="48" gradientUnits="userSpaceOnUse" x2="140.5" y1="154.75" y2="204.75" id="linearGradient3" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="464.5" gradientUnits="userSpaceOnUse" x2="473.5" y1="234.75" y2="1118.6666" id="linearGradient4" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="655" gradientUnits="userSpaceOnUse" x2="664" y1="232.75" y2="1118.4166" id="linearGradient5" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="419.75" gradientUnits="userSpaceOnUse" x2="512.25" y1="154.75" y2="204.75" id="linearGradient6" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="236.5" gradientUnits="userSpaceOnUse" x2="329" y1="154.75" y2="204.75" id="linearGradient7" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="831.75" gradientUnits="userSpaceOnUse" x2="840.75" y1="230.25" y2="1118.4166" id="linearGradient8" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="610.25" gradientUnits="userSpaceOnUse" x2="702.75" y1="153.5" y2="203.5" id="linearGradient9" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="789.25" gradientUnits="userSpaceOnUse" x2="881.75" y1="152.5" y2="202.5" id="linearGradient10" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1">
        <path d="M0 0 L994 0 L994 1005 L0 1005 L0 0 Z"/>
      </clipPath>
      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath2">
        <path d="M33 137 L1027 137 L1027 1142 L33 1142 L33 137 Z"/>
      </clipPath>
    </defs>
    <g fill="white" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="translate(-33,-137)" stroke="white">
      <rect x="33" width="994" height="1005" y="137" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g fill="url(#linearGradient1)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient1)">
      <path d="M91 228 L100 228 L100 1126.9166 L91 1126.9166 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M91 228 L100 228 L100 1126.9166 L91 1126.9166 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient2)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient2)">
      <path d="M276.75 231 L285.75 231 L285.75 1121.9166 L276.75 1121.9166 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M276.75 231 L285.75 231 L285.75 1121.9166 L276.75 1121.9166 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient3)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient3)">
      <path d="M48 154.75 L140.5 154.75 L140.5 204.75 L48 204.75 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M48 154.75 L140.5 154.75 L140.5 204.75 L48 204.75 Z" clip-path="url(#clipPath2)"/>
      <text x="77.999" xml:space="preserve" y="170.1523" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Index</text>
      <text x="59.3398" xml:space="preserve" y="184.2852" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Coordinator</text>
      <text x="70.332" xml:space="preserve" y="198.418" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">(master)</text>
    </g>
    <g fill="url(#linearGradient4)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient4)">
      <path d="M464.5 234.75 L473.5 234.75 L473.5 1118.6666 L464.5 1118.6666 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M464.5 234.75 L473.5 234.75 L473.5 1118.6666 L464.5 1118.6666 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient5)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient5)">
      <path d="M655 232.75 L664 232.75 L664 1118.4166 L655 1118.4166 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M655 232.75 L664 232.75 L664 1118.4166 L655 1118.4166 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient6)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient6)">
      <path d="M419.75 154.75 L512.25 154.75 L512.25 204.75 L419.75 204.75 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M419.75 154.75 L512.25 154.75 L512.25 204.75 L419.75 204.75 Z" clip-path="url(#clipPath2)"/>
      <text x="442.9609" xml:space="preserve" y="184.2852" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Router1</text>
    </g>
    <g fill="url(#linearGradient7)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient7)">
      <path d="M236.5 154.75 L329 154.75 L329 204.75 L236.5 204.75 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M236.5 154.75 L329 154.75 L329 204.75 L236.5 204.75 Z" clip-path="url(#clipPath2)"/>
      <text x="252.873" xml:space="preserve" y="184.2852" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Projector1</text>
    </g>
    <g fill="url(#linearGradient8)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient8)">
      <path d="M831.75 230.25 L840.75 230.25 L840.75 1118.4166 L831.75 1118.4166 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M831.75 230.25 L840.75 230.25 L840.75 1118.4166 L831.75 1118.4166 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient9)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient9)">
      <path d="M610.25 153.5 L702.75 153.5 L702.75 203.5 L610.25 203.5 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M610.25 153.5 L702.75 153.5 L702.75 203.5 L610.25 203.5 Z" clip-path="url(#clipPath2)"/>
      <text x="630.6572" xml:space="preserve" y="183.0352" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Indexer1</text>
    </g>
    <g fill="url(#linearGradient10)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke="url(#linearGradient10)">
      <path d="M789.25 152.5 L881.75 152.5 L881.75 202.5 L789.25 202.5 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <path fill="none" d="M789.25 152.5 L881.75 152.5 L881.75 202.5 L789.25 202.5 Z" clip-path="url(#clipPath2)"/>
      <text x="809.6572" xml:space="preserve" y="182.0352" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Indexer2</text>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" font-family="sans-serif" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <text x="109.251" xml:space="preserve" y="251.0938" clip-path="url(#clipPath2)" stroke="none">1. Receive Index </text>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" font-family="sans-serif" transform="matrix(1,0,0,1,-33,-137)" stroke-linecap="butt">
      <text x="119.0244" xml:space="preserve" y="265.2266" clip-path="url(#clipPath2)" stroke="none">Build Request</text>
      <text x="112.3005" xml:space="preserve" y="384.5063" clip-path="url(#clipPath2)" stroke="none">4. Notify ALL Routers</text>
      <text x="149.3405" xml:space="preserve" y="398.6391" clip-path="url(#clipPath2)" stroke="none">and wait</text>
      <text x="509.5156" xml:space="preserve" y="421.9287" clip-path="url(#clipPath2)" stroke="none">5. Create topic, </text>
      <text x="495.834" xml:space="preserve" y="436.0616" clip-path="url(#clipPath2)" stroke="none">subscribers and ACK</text>
      <text x="113.3826" xml:space="preserve" y="483.6437" clip-path="url(#clipPath2)" stroke="none">6. Notify ALL Projectors</text>
      <text x="157.2605" xml:space="preserve" y="497.7766" clip-path="url(#clipPath2)" stroke="none">and wait</text>
      <text x="326.0439" xml:space="preserve" y="535.5187" clip-path="url(#clipPath2)" stroke="none">7. Start UPR </text>
      <text x="315.3535" xml:space="preserve" y="549.6516" clip-path="url(#clipPath2)" stroke="none">stream and ACK</text>
      <text x="675.4005" xml:space="preserve" y="784.5938" clip-path="url(#clipPath2)" stroke="none">10. Store Key Versions</text>
      <text x="676.5401" xml:space="preserve" y="798.7266" clip-path="url(#clipPath2)" stroke="none">in Initial Build Queue  </text>
      <text x="109.7871" xml:space="preserve" y="293.6388" clip-path="url(#clipPath2)" stroke="none">2. Request Projector </text>
      <text x="119.6396" xml:space="preserve" y="307.7716" clip-path="url(#clipPath2)" stroke="none">for KV timestamp</text>
      <text x="315.8234" xml:space="preserve" y="340.3712" clip-path="url(#clipPath2)" stroke="none">3. Get timestamp</text>
      <text x="309.9113" xml:space="preserve" y="354.5041" clip-path="url(#clipPath2)" stroke="none">from KV and return</text>
      <text x="299.6357" xml:space="preserve" y="594.8773" clip-path="url(#clipPath2)" stroke="none">8. Generate Key Versions</text>
      <text x="294.043" xml:space="preserve" y="609.0101" clip-path="url(#clipPath2)" stroke="none">from mutation and send to</text>
      <text x="293.5508" xml:space="preserve" y="623.1429" clip-path="url(#clipPath2)" stroke="none">Router on Initial Load topic</text>
      <text x="495.3114" xml:space="preserve" y="685.2637" clip-path="url(#clipPath2)" stroke="none">9. Route Key Version </text>
      <text x="524.7695" xml:space="preserve" y="699.3965" clip-path="url(#clipPath2)" stroke="none">to Indexers</text>
      <text x="867.9005" xml:space="preserve" y="783.5938" clip-path="url(#clipPath2)" stroke="none">10. Store Key Versions</text>
      <text x="869.0401" xml:space="preserve" y="797.7266" clip-path="url(#clipPath2)" stroke="none">in Initial Build Queue  </text>
      <text x="677.3154" xml:space="preserve" y="834.8438" clip-path="url(#clipPath2)" stroke="none">11. Persist Mutations</text>
      <text x="675.4286" xml:space="preserve" y="848.9766" clip-path="url(#clipPath2)" stroke="none">and Create Snapshots</text>
      <text x="868.5654" xml:space="preserve" y="834.3438" clip-path="url(#clipPath2)" stroke="none">11. Persist Mutations</text>
      <text x="866.6786" xml:space="preserve" y="848.4766" clip-path="url(#clipPath2)" stroke="none">and Create Snapshots</text>
      <text x="676.5699" xml:space="preserve" y="878.5273" clip-path="url(#clipPath2)" stroke="none">12. Mark Build Complete</text>
      <text x="687.105" xml:space="preserve" y="892.6602" clip-path="url(#clipPath2)" stroke="none">when mutation reach</text>
      <text x="681.5972" xml:space="preserve" y="906.793" clip-path="url(#clipPath2)" stroke="none">Initial Build Timestamp</text>
      <text x="865.5699" xml:space="preserve" y="878.2773" clip-path="url(#clipPath2)" stroke="none">12. Mark Build Complete</text>
      <text x="876.105" xml:space="preserve" y="892.4102" clip-path="url(#clipPath2)" stroke="none">when mutation reach</text>
      <text x="870.5972" xml:space="preserve" y="906.543" clip-path="url(#clipPath2)" stroke="none">Initial Build Timestamp</text>
      <text x="674.3245" xml:space="preserve" y="946.5938" clip-path="url(#clipPath2)" stroke="none">13. Send Build Complete</text>
      <text x="684.9915" xml:space="preserve" y="960.7266" clip-path="url(#clipPath2)" stroke="none">to Index Coordinator</text>
      <text x="864.3245" xml:space="preserve" y="965.5938" clip-path="url(#clipPath2)" stroke="none">13. Send Build Complete</text>
      <text x="874.9915" xml:space="preserve" y="979.7266" clip-path="url(#clipPath2)" stroke="none">to Index Coordinator</text>
      <text x="114.8301" xml:space="preserve" y="1038.6484" clip-path="url(#clipPath2)" stroke="none">14. Mark Index as READY</text>
      <text x="108.2793" xml:space="preserve" y="1052.7812" clip-path="url(#clipPath2)" stroke="none">once all indexers complete.</text>
      <text x="109.9814" xml:space="preserve" y="1066.9141" clip-path="url(#clipPath2)" stroke="none">Replicate StateContext and</text>
      <text x="133.3017" xml:space="preserve" y="1081.0469" clip-path="url(#clipPath2)" stroke="none">inform all Indexers</text>
      <text x="673.0492" xml:space="preserve" y="1075.5938" clip-path="url(#clipPath2)" stroke="none">15. Mark Index as READY</text>
      <text x="674.9447" xml:space="preserve" y="1089.7266" clip-path="url(#clipPath2)" stroke="none">and Serve Scan Requests</text>
      <text x="862.7992" xml:space="preserve" y="1097.0938" clip-path="url(#clipPath2)" stroke="none">15. Mark Index as READY</text>
      <text x="864.6947" xml:space="preserve" y="1111.2266" clip-path="url(#clipPath2)" stroke="none">and Serve Scan Requests</text>
      <path fill="none" d="M100.0089 516.0154 L268.7266 515.8182" clip-path="url(#clipPath2)"/>
      <path d="M276.7266 515.8088 L264.7208 510.8228 L267.7266 515.8193 L264.7325 520.8228 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M100.005 324.558 L268.71 324.6193" clip-path="url(#clipPath2)"/>
      <path d="M276.71 324.6222 L264.7118 319.6179 L267.71 324.6189 L264.7082 329.6178 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M276.7424 563.5647 L108.0311 564.2454" clip-path="url(#clipPath2)"/>
      <path d="M100.0311 564.2777 L112.0512 569.2292 L109.031 564.2414 L112.0108 559.2293 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M276.7469 359.304 L108.015 359.0105" clip-path="url(#clipPath2)"/>
      <path d="M100.015 358.9966 L112.0063 364.0175 L109.015 359.0122 L112.0237 354.0175 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M100.0234 405.024 L456.4922 404.8365" clip-path="url(#clipPath2)"/>
      <path d="M464.4922 404.8322 L452.4896 399.8386 L455.4922 404.837 L452.4948 409.8386 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M285.7643 645.8228 L456.4662 645.4366" clip-path="url(#clipPath2)"/>
      <path d="M464.4661 645.4185 L452.4548 640.4457 L455.4662 645.4388 L452.4775 650.4456 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M462.9375 452.2413 L281.4863 452.865 L108.037 451.8683" clip-path="url(#clipPath2)"/>
      <path d="M100.0371 451.8224 L112.0082 456.8912 L109.037 451.8741 L112.0656 446.8914 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M473.5297 722.3207 L646.9811 722.6775" clip-path="url(#clipPath2)"/>
      <path d="M654.9811 722.694 L642.9915 717.6693 L645.9811 722.6754 L642.9709 727.6693 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M100.0227 1086.4354 L377.4868 1086.5962 L646.9728 1084.0402" clip-path="url(#clipPath2)"/>
      <path d="M654.9724 1083.9642 L642.9255 1079.0784 L645.9728 1084.0497 L643.0204 1089.0779 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M654.9705 976.2782 L108.4375 974.7984" clip-path="url(#clipPath2)"/>
      <path d="M100.4375 974.7767 L112.4239 979.8092 L109.4375 974.8011 L112.451 969.8093 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M473.5046 743.2318 L652.6143 742.2388 L823.7267 742.2551" clip-path="url(#clipPath2)"/>
      <path d="M831.7267 742.2559 L819.7272 737.2548 L822.7267 742.255 L819.7262 747.2547 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M100.0232 1106.6302 L823.7112 1105.1097" clip-path="url(#clipPath2)"/>
      <path d="M831.7112 1105.0929 L819.7007 1100.1182 L822.7112 1105.1118 L819.7217 1110.1182 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M831.749 1013.4899 L110.3125 1014.7362" clip-path="url(#clipPath2)"/>
      <path d="M102.3125 1014.75 L114.3211 1019.7293 L111.3125 1014.7345 L114.3039 1009.7293 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
  </g>
</svg>
