<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill-opacity="1" color-rendering="auto" color-interpolation="auto" stroke="black" text-rendering="auto" stroke-linecap="square" width="965" stroke-miterlimit="10" stroke-opacity="1" shape-rendering="auto" fill="black" stroke-dasharray="none" font-weight="normal" stroke-width="1" height="914" font-family="'Dialog'" font-style="normal" stroke-linejoin="miter" font-size="12" stroke-dashoffset="0" image-rendering="auto">
  <!--Generated by ySVG 2.5-->
  <defs id="genericDefs"/>
  <g>
    <defs id="defs1">
      <linearGradient x1="65.5" gradientUnits="userSpaceOnUse" x2="74.5" y1="202.75" y2="1010.4167" id="linearGradient1" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="251.25" gradientUnits="userSpaceOnUse" x2="260.25" y1="205.75" y2="1009.1667" id="linearGradient2" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="22.5" gradientUnits="userSpaceOnUse" x2="115" y1="129.5" y2="179.5" id="linearGradient3" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="439" gradientUnits="userSpaceOnUse" x2="448" y1="209.5" y2="999.6667" id="linearGradient4" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="629.5" gradientUnits="userSpaceOnUse" x2="638.5" y1="207.5" y2="1000.6667" id="linearGradient5" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="394.25" gradientUnits="userSpaceOnUse" x2="486.75" y1="129.5" y2="179.5" id="linearGradient6" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="211" gradientUnits="userSpaceOnUse" x2="303.5" y1="129.5" y2="179.5" id="linearGradient7" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="806.25" gradientUnits="userSpaceOnUse" x2="815.25" y1="205" y2="998.1667" id="linearGradient8" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="584.75" gradientUnits="userSpaceOnUse" x2="677.25" y1="128.25" y2="178.25" id="linearGradient9" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <linearGradient x1="763.75" gradientUnits="userSpaceOnUse" x2="856.25" y1="127.25" y2="177.25" id="linearGradient10" spreadMethod="reflect">
        <stop stop-opacity="1" stop-color="rgb(232,238,247)" offset="0%"/>
        <stop stop-opacity="1" stop-color="rgb(183,201,227)" offset="100%"/>
      </linearGradient>
      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath1">
        <path d="M0 0 L965 0 L965 914 L0 914 L0 0 Z"/>
      </clipPath>
      <clipPath clipPathUnits="userSpaceOnUse" id="clipPath2">
        <path d="M7 112 L972 112 L972 1026 L7 1026 L7 112 Z"/>
      </clipPath>
    </defs>
    <g fill="white" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="translate(-7,-112)" stroke="white">
      <rect x="7" width="965" height="914" y="112" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g fill="url(#linearGradient1)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient1)">
      <path d="M65.5 202.75 L74.5 202.75 L74.5 1010.4167 L65.5 1010.4167 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M65.5 202.75 L74.5 202.75 L74.5 1010.4167 L65.5 1010.4167 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient2)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient2)">
      <path d="M251.25 205.75 L260.25 205.75 L260.25 1009.1667 L251.25 1009.1667 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M251.25 205.75 L260.25 205.75 L260.25 1009.1667 L251.25 1009.1667 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient3)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient3)">
      <path d="M22.5 129.5 L115 129.5 L115 179.5 L22.5 179.5 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M22.5 129.5 L115 129.5 L115 179.5 L22.5 179.5 Z" clip-path="url(#clipPath2)"/>
      <text x="52.499" xml:space="preserve" y="144.9023" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Index</text>
      <text x="43.6924" xml:space="preserve" y="159.0352" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Manager</text>
      <text x="44.832" xml:space="preserve" y="173.168" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">(master)</text>
    </g>
    <g fill="url(#linearGradient4)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient4)">
      <path d="M439 209.5 L448 209.5 L448 999.6667 L439 999.6667 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M439 209.5 L448 209.5 L448 999.6667 L439 999.6667 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient5)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient5)">
      <path d="M629.5 207.5 L638.5 207.5 L638.5 1000.6667 L629.5 1000.6667 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M629.5 207.5 L638.5 207.5 L638.5 1000.6667 L629.5 1000.6667 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient6)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient6)">
      <path d="M394.25 129.5 L486.75 129.5 L486.75 179.5 L394.25 179.5 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M394.25 129.5 L486.75 129.5 L486.75 179.5 L394.25 179.5 Z" clip-path="url(#clipPath2)"/>
      <text x="424.249" xml:space="preserve" y="144.9023" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Index</text>
      <text x="415.4424" xml:space="preserve" y="159.0352" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Manager</text>
      <text x="413.374" xml:space="preserve" y="173.168" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">(replica2)</text>
    </g>
    <g fill="url(#linearGradient7)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient7)">
      <path d="M211 129.5 L303.5 129.5 L303.5 179.5 L211 179.5 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M211 129.5 L303.5 129.5 L303.5 179.5 L211 179.5 Z" clip-path="url(#clipPath2)"/>
      <text x="240.999" xml:space="preserve" y="144.9023" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Index</text>
      <text x="232.1924" xml:space="preserve" y="159.0352" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Manager</text>
      <text x="230.124" xml:space="preserve" y="173.168" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">(replica1)</text>
    </g>
    <g fill="url(#linearGradient8)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient8)">
      <path d="M806.25 205 L815.25 205 L815.25 998.1667 L806.25 998.1667 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M806.25 205 L815.25 205 L815.25 998.1667 L806.25 998.1667 Z" clip-path="url(#clipPath2)"/>
    </g>
    <g fill="url(#linearGradient9)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient9)">
      <path d="M584.75 128.25 L677.25 128.25 L677.25 178.25 L584.75 178.25 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M584.75 128.25 L677.25 128.25 L677.25 178.25 L584.75 178.25 Z" clip-path="url(#clipPath2)"/>
      <text x="605.1572" xml:space="preserve" y="157.7852" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Indexer1</text>
    </g>
    <g fill="url(#linearGradient10)" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke="url(#linearGradient10)">
      <path d="M763.75 127.25 L856.25 127.25 L856.25 177.25 L763.75 177.25 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <path fill="none" d="M763.75 127.25 L856.25 127.25 L856.25 177.25 L763.75 177.25 Z" clip-path="url(#clipPath2)"/>
      <text x="784.1572" xml:space="preserve" y="156.7852" font-family="sans-serif" clip-path="url(#clipPath2)" stroke="none">Indexer2</text>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" font-family="sans-serif" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <text x="84.3008" xml:space="preserve" y="242.0938" clip-path="url(#clipPath2)" stroke="none">1. Receive Create</text>
    </g>
    <g text-rendering="geometricPrecision" stroke-miterlimit="1.45" shape-rendering="geometricPrecision" font-family="sans-serif" transform="matrix(1,0,0,1,-7,-112)" stroke-linecap="butt">
      <text x="92.9434" xml:space="preserve" y="256.2266" clip-path="url(#clipPath2)" stroke="none">Index Request</text>
      <text x="83.7891" xml:space="preserve" y="278.5273" clip-path="url(#clipPath2)" stroke="none">2. Generate IndexId, Mark</text>
      <text x="96.8027" xml:space="preserve" y="292.6602" clip-path="url(#clipPath2)" stroke="none">state INIT and update</text>
      <text x="96.9639" xml:space="preserve" y="306.793" clip-path="url(#clipPath2)" stroke="none">StateContext(CAS++)</text>
      <text x="82.4785" xml:space="preserve" y="329.3438" clip-path="url(#clipPath2)" stroke="none">3. Persist StateContext</text>
      <text x="130.2148" xml:space="preserve" y="343.4766" clip-path="url(#clipPath2)" stroke="none">locally</text>
      <text x="83.583" xml:space="preserve" y="368.0938" clip-path="url(#clipPath2)" stroke="none">4. Replicate StateContext</text>
      <text x="97.4492" xml:space="preserve" y="382.2266" clip-path="url(#clipPath2)" stroke="none">to Replica1 and Wait</text>
      <text x="287.8008" xml:space="preserve" y="412.5273" clip-path="url(#clipPath2)" stroke="none">5. Locally Persist</text>
      <text x="271.9189" xml:space="preserve" y="426.6602" clip-path="url(#clipPath2)" stroke="none">New StateContext and</text>
      <text x="325.6553" xml:space="preserve" y="440.793" clip-path="url(#clipPath2)" stroke="none">Ack</text>
      <text x="82.833" xml:space="preserve" y="474.0938" clip-path="url(#clipPath2)" stroke="none">6. Replicate StateContext</text>
      <text x="96.6992" xml:space="preserve" y="488.2266" clip-path="url(#clipPath2)" stroke="none">to Replica2 and Wait</text>
      <text x="287.0508" xml:space="preserve" y="539.7773" clip-path="url(#clipPath2)" stroke="none">7. Locally Persist</text>
      <text x="271.1689" xml:space="preserve" y="553.9102" clip-path="url(#clipPath2)" stroke="none">New StateContext and</text>
      <text x="324.9053" xml:space="preserve" y="568.043" clip-path="url(#clipPath2)" stroke="none">Ack</text>
      <text x="98.582" xml:space="preserve" y="609.7773" clip-path="url(#clipPath2)" stroke="none">8. Request Index1 to </text>
      <text x="94.832" xml:space="preserve" y="623.9102" clip-path="url(#clipPath2)" stroke="none">process CREATE INDEX</text>
      <text x="80.0957" xml:space="preserve" y="638.043" clip-path="url(#clipPath2)" stroke="none">(allocate storage, metadata)</text>
      <text x="659.1061" xml:space="preserve" y="666.5273" clip-path="url(#clipPath2)" stroke="none">9. Allocate Storage,</text>
      <text x="666.5504" xml:space="preserve" y="680.6602" clip-path="url(#clipPath2)" stroke="none">Update Metadata</text>
      <text x="692.3434" xml:space="preserve" y="694.793" clip-path="url(#clipPath2)" stroke="none">and Ack</text>
      <text x="93.5381" xml:space="preserve" y="742.5273" clip-path="url(#clipPath2)" stroke="none">10. Request Index2 to </text>
      <text x="93.582" xml:space="preserve" y="756.6602" clip-path="url(#clipPath2)" stroke="none">process CREATE INDEX</text>
      <text x="78.8457" xml:space="preserve" y="770.793" clip-path="url(#clipPath2)" stroke="none">(allocate storage, metadata)</text>
      <text x="823.7121" xml:space="preserve" y="806.2773" clip-path="url(#clipPath2)" stroke="none">11. Allocate Storage,</text>
      <text x="834.9504" xml:space="preserve" y="820.4102" clip-path="url(#clipPath2)" stroke="none">Update Metadata</text>
      <text x="860.7433" xml:space="preserve" y="834.543" clip-path="url(#clipPath2)" stroke="none">and Ack</text>
      <text x="84.8652" xml:space="preserve" y="887.2773" clip-path="url(#clipPath2)" stroke="none">12. Update Index State </text>
      <text x="93.3818" xml:space="preserve" y="901.4102" clip-path="url(#clipPath2)" stroke="none">to READY and return</text>
      <text x="102.1973" xml:space="preserve" y="915.543" clip-path="url(#clipPath2)" stroke="none">SUCCESS to client</text>
      <text x="81.5188" xml:space="preserve" y="963.8438" clip-path="url(#clipPath2)" stroke="none">13. Notify Projectors with </text>
      <text x="97.8606" xml:space="preserve" y="977.9766" clip-path="url(#clipPath2)" stroke="none">new Index definition</text>
      <path fill="none" d="M74.5256 396.2617 L243.2361 396.3844" clip-path="url(#clipPath2)"/>
      <path d="M251.2361 396.3902 L239.2398 391.3815 L242.2361 396.3837 L239.2325 401.3815 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M250 438.7501 L83 439.2525" clip-path="url(#clipPath2)"/>
      <path d="M75 439.2766 L87.015 444.2404 L84 439.2495 L86.9849 434.2404 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M75 512.2083 L430.9551 510.7765" clip-path="url(#clipPath2)"/>
      <path d="M438.9551 510.7443 L426.9351 505.7926 L429.9551 510.7805 L426.9753 515.7925 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M438.9673 581.9744 L256.7311 582.6487 L82.5407 581.6935" clip-path="url(#clipPath2)"/>
      <path d="M74.5409 581.6497 L86.5133 586.7154 L83.5407 581.699 L86.5681 576.7156 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M74.5095 648.2324 L621.4521 648.8132" clip-path="url(#clipPath2)"/>
      <path d="M629.4521 648.8217 L617.4575 643.809 L620.4521 648.8122 L617.4468 653.809 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M629.4791 713.9777 L82.5091 712.9171" clip-path="url(#clipPath2)"/>
      <path d="M74.5091 712.9016 L86.4994 717.9249 L83.5091 712.9191 L86.5188 707.9249 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M75.25 787.0737 L798.2112 786.0535" clip-path="url(#clipPath2)"/>
      <path d="M806.2112 786.0422 L794.2042 781.0591 L797.2112 786.0549 L794.2183 791.0591 Z" clip-path="url(#clipPath2)" stroke="none"/>
      <path fill="none" d="M805.25 842.7633 L439.8927 843.7841 L82.537 842.3036" clip-path="url(#clipPath2)"/>
      <path d="M74.5371 842.2705 L86.5163 847.3202 L83.537 842.3078 L86.5577 837.3203 Z" clip-path="url(#clipPath2)" stroke="none"/>
    </g>
  </g>
</svg>
